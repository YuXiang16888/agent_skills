# 技術文件輸出格式規範

## 新功能開發格式

```markdown
## [提出方案]

- **新增** `FileName.kt`：說明新增的類別/函式的職責。
- **修改** `FileName.kt` 中的 `methodName()`：說明修改原因與新的行為。
- **重構** `ModuleName`：說明重構目的（例如：解耦、提升可讀性）。

## [驗證求解]

| 測試項目 | 操作步驟 | 預期結果 |
|---------|---------|---------|
| 正常流程 | 描述正常情境的操作 | 功能正確運作的結果 |
| 邊界條件 | 描述邊界情境的操作 | 系統應如何處理邊界值 |
| 異常處理 | 描述錯誤情境的操作 | 系統應顯示適當的錯誤訊息 |
```

**[提出方案] 撰寫原則：**
- 每一個 diff 變更對應一條說明
- 動詞使用「新增」、「修改」、「重構」、「刪除」開頭
- 說明「做了什麼」以及「為什麼這樣做」
- 若有多個檔案，按照變更影響程度由大到小排列

**[驗證求解] 撰寫原則：**
- 測試項目應涵蓋：正常流程、邊界條件、異常處理
- 每個測試項目必須可操作，避免模糊描述
- 如果有 API 變更，需包含 API 呼叫範例

---

## 錯誤修復格式

```markdown
## [Root Cause]

由於 `FileName.kt` 中的 `methodName()` 未處理 [具體情境]，
導致在 [觸發條件] 時發生 [錯誤類型/現象]。

根本原因：[一句話精準描述技術根因]

## [Resolution]

在 `FileName.kt` 的 `methodName()` 中：
- **修改點 1**：說明具體修改內容及其如何解決根本原因。
- **修改點 2**（若有）：說明額外的防護措施。

## [Test]

**測試步驟：**

- **前置條件**：{設定測試前的必要狀態}
- **操作**：執行會觸發原 Bug 的操作
- **預期結果**：系統應正常處理，[描述正確行為]，後端無錯誤日誌

**迴歸測試：**

- 執行 [正常操作]，確認 [原有功能] 仍正確運作。
- 執行 [相關功能]，確認無引入新問題。
```

**[Root Cause] 撰寫原則：**
- 從程式碼層面解釋，不能只說「因為沒有判斷」，要說「為什麼這個判斷缺失會造成錯誤」
- 引用具體的類別名、函式名、變數名
- 最後用一句話總結根本原因

**[Resolution] 撰寫原則：**
- 直接對應 Root Cause，說明如何修補
- 如有多處修改，逐一列出

**[Test] 撰寫原則：**
- 前置條件必須明確，讓測試人員能重現
- 操作步驟要能觸發原本的 Bug
- 迴歸測試至少包含一個確保原功能正常的案例
